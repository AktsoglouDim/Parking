package hello;

import java.io.DataOutputStream;
import java.net.HttpURLConnection;
import java.net.ProtocolException;
import java.net.URL;
import java.nio.charset.StandardCharsets;

public class TestApp {

    public static void main(String[] args) {
    	String urlParameters  = "param1=a&param2=b&param3=c";
    	byte[] postData       = urlParameters.getBytes( StandardCharsets.UTF_8 );
    	int    postDataLength = postData.length;
    	String request        = "http://example.com/index.php";
    	URL    url            = new URL( request );
    	HttpURLConnection conn= (HttpURLConnection) url.openConnection();           
    	conn.setDoOutput( true );
    	conn.setInstanceFollowRedirects( false );
    	try {
			conn.setRequestMethod( "POST" );
		} catch (ProtocolException e) {
			e.printStackTrace();
		}
    	conn.setRequestProperty( "Content-Type", "application/x-www-form-urlencoded"); 
    	conn.setRequestProperty( "charset", "utf-8");
    	conn.setRequestProperty( "Content-Length", Integer.toString( postDataLength ));
    	conn.setUseCaches( false );
    	try( DataOutputStream wr = new DataOutputStream( conn.getOutputStream())) {
    	   wr.write( postData );
    	}
    }
}